version: 1
disable_existing_loggers: False
formatters:
    simple:
        format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    json_formatter:
        format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
        class: pythonjsonlogger.jsonlogger.JsonFormatter

handlers:
    rich:
        class: rich.logging.RichHandler
        enable_link_path: False
        log_time_format: "[%X]"

    # console:
    #     class: logging.StreamHandler
    #     level: INFO
    #     formatter: simple
    #     stream: ext://sys.stdout

    # Logs the console view as the user would see it
    # Sans the loading bars
    user:
        class: pasteur.logging.MlflowHandler
        name: user
        buffer_n: 5

        level: INFO
        formatter: simple

    # Debug and error log the exact output of the console
    debug:
        class: pasteur.logging.MlflowHandler
        name: debug
        buffer_n: 25

        level: DEBUG
        formatter: simple

    error:
        class: pasteur.logging.MlflowHandler
        name: error
        buffer_n: 5

        level: ERROR
        formatter: simple

loggers:
    anyconfig:
        level: INFO
        handlers: [debug, error]
        propagate: no

    numexpr.utils:
        level: INFO
        handlers: [debug, error]
        propagate: no

    IPKernelApp:
        level: INFO
        handlers: [debug, error]
        propagate: no

    blib2to3.pgen2.driver:
        level: INFO
        handlers: [debug, error]
        propagate: no

    py.warnings:
        level: INFO
        handlers: [debug, error]
        propagate: no

    kedro.io.data_catalog:
        level: INFO
        handlers: [debug, error]
        propagate: no

    kedro.io:
        level: INFO
        handlers: [debug, error]
        propagate: no

    kedro.extras.extensions.ipython:
        level: INFO
        handlers: [debug, error]
        propagate: no

    kedro.pipeline.node:
        level: INFO
        handlers: [debug, error]
        propagate: no

    kedro.config.common:
        level: INFO
        handlers: [debug, error]
        propagate: no

    kedro.framework.session.session:
        level: INFO
        handlers: [debug, error]
        propagate: no

    kedro.pipeline:
        level: INFO
        handlers: [debug, error]
        propagate: no

    pasteur.kedro.hooks.mlflow:
        level: INFO
        handlers: [debug, error]
        propagate: no

    dummy:
        level: INFO
        propagate: no

    pasteur.kedro.runner:
        level: INFO
        handlers: [rich, user, debug, error]
        propagate: no

root:
    level: INFO
    handlers: [rich, user, debug, error]
