mimic_billion:
  ratios:
    wrk: 0.98
    ref: 0.02
    
  algs:
    privbayes:
      e1: 0.3
      e2: 0.7
      theta: 15

      fixed: [4, 9, 18, 32]
      u: 4
      sequential_min: 1000000
      
mimic_tab_admissions:
  algs:
    privbayes:
      theta: 7
      marginal_min_chunk: 1000
      
mimic_core:
  algs:
    mare:
      etotal: 2
      theta: 5
      rebalance: False
      fixed: [4, 9, 18, 32]
      u: 7
      max_sens: 20
    amalgam:
      prompt: |
        You are a doctor working at a hospital.

        Reference the following <samples_n> example patients:
        <samples>

        And derive a JSON patient using:
        <seed>

        Guidelines:
          - the provided values are for the first admission/transfer, generate the rest in a realistic manner
          - for provided ranges use a random value that is within the range
          - Reason about the key events in this patient's admission; they should make sense
          - If a value would cause an unrealistic patient, adjust it slightly for realism
      samples: &samples 2000
      model: &model # "hf:Qwen/Qwen3-8B-GGUF#Qwen3-8B-Q4_K_M.gguf"
        type: hf
        repo_id: Qwen/Qwen3-8B-GGUF
        filename: Qwen3-8B-Q4_K_M.gguf
        workers: 1
      # model:
      #   type: or
      #   model: meta-llama/llama-4-scout-17b-16e-instruct
      rebalance:
        # unbounded_dp: True
        # fixed: [4, 9, 18, 32]
        # u: 7
      pgm:
        etotal: 2
  metrics:
    llmeval:
      samples: *samples
      model: *model
      prompt: |
        You are a medical doctor.

        You are given the following <samples_n> real patients as a reference:
        <samples>

        Then, you are asked to comment on how real the following patient is with a rating from 1 to 5 (5 being very real):
        <eval>

mimic_icu:
  algs:
    mare:
      marginal_mode: inmemory_batched