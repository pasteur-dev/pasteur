# Metadata definition for sdv
mimic_mm_core.metadata:
  tables:
    patients:
      primary_key: subject_id
      target: anchor_age
      fields:
        subject_id:
          type: id
          subtype: integer
        gender:
          type: categorical
        anchor_age:
          type: numerical
          subtype: integer
        anchor_year_group:
          type: categorical
        dod:
          type: timespan
        aod:
          type: timespan

    admissions:
      primary_key: hadm_id
      target: admission_type
      key_fields:
        - admission_location
        - discharge_location
        - insurance
        - language
        - marital_status
        - ethnicity
      sensitive_fields:
        - admission_type

      fields:
        hadm_id:
          type: id
          subtype: integer
        subject_id:
          ref:
            table: patients
            field: subject_id
          type: id
          subtype: integer
        admittime:
          type: timespan
        dischtime:
          type: timespan
        deathtime:
          type: timespan
        admission_type:
          type: categorical
        admission_location:
          type: categorical
        discharge_location:
          type: categorical
        insurance:
          type: categorical
        language:
          type: categorical
        marital_status:
          type: categorical
        ethnicity:
          type: categorical
        edregtime:
          type: timespan
        edouttime:
          type: timespan
        hospital_expire_flag:
          type: categorical

    transfers:
      primary_key: transfer_id
      target: eventtype
      fields:
        subject_id:
          type: id
          subtype: integer
        hadm_id:
          ref:
            table: admissions
            field: hadm_id
          type: id
          subtype: integer
        transfer_id:
          type: id
          subtype: integer
        eventtype:
          type: categorical
        careunit:
          type: categorical
        intime:
          type: timespan
        outtime:
          type: timespan
