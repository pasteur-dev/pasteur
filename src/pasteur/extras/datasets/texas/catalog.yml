_texas_base: &texas_base
  type: pasteur.kedro.dataset.PatternDataSet
  layer: raw
  path: ${bootstrap}

  replace_format: "{year}q{q}"

  dataset:
    type: pandas.CSVDataSet
    load_args:
      delimiter: "\t"

texas.raw@charges:
  <<: *texas_base
  pattern: _charges
  replace_pattern: charges(?P<q>\d)q(?P<year>\d\d\d\d)

  dataset:
    type: pandas.CSVDataSet
    load_args:
      delimiter: "\t"
      header: 0
      index_col: False
      names:
        - record_id
        - revenue_code
        - hcpcs_qualifier
        - hcpcs_procedure_code
        - modifier_1
        - modifier_2
        - modifier_3
        - modifier_4
        - unit_measurement_code
        - units_of_service
        - unit_rate
        - chrgs_line_item
        - chrgs_non_cov
      dtype:
        record_id: int64
        revenue_code: category
        hcpcs_qualifier: category
        hcpcs_procedure_code: category
        modifier_1: category
        modifier_2: category
        modifier_3: category
        modifier_4: category
        unit_measurement_code: category
        units_of_service: category
        unit_rate: category
        chrgs_line_item: category
        chrgs_non_cov: category

texas.raw@base:
  <<: *texas_base
  pattern: base\dq
  replace_pattern: base(?P<q>\d)q(?P<year>\d\d\d\d)

texas.raw@base1:
  <<: *texas_base
  pattern: _base1_
  replace_pattern: base1_(?P<q>\d)q(?P<year>\d\d\d\d)

texas.raw@base2:
  <<: *texas_base
  pattern: _base2_
  replace_pattern: base2_(?P<q>\d)q(?P<year>\d\d\d\d)

texas.raw@facility:
  <<: *texas_base
  pattern: Facility_type
  replace_pattern: type(?P<q>\d)q(?P<year>\d\d\d\d)